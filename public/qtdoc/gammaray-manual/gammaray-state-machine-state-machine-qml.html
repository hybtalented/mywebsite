<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>state-machine.qml Example File | GammaRay User Manual</title>
</head>
<body>
<li><a href="index.html">GammaRay User Manual</a></li>
<li><a href="index.html">GammaRay User Manual</a></li>
<li><a href="gammaray-state-machine-example.html">State Machines</a></li>
<li>state-machine.qml Example File</li>
<li id="buildversion">GammaRay User Manual 2.9.0</li>
<div class="sidebar"><div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">state-machine.qml Example File</h1>
<span class="subtitle">state-machine/state-machine.qml</span>
<!-- $$$state-machine/state-machine.qml-description -->
<div class="descr"> <a name="details"></a>
<pre class="qml"><span class="comment">/*
  state-machine.qml

  This file is part of GammaRay, the Qt application inspection and
  manipulation tool.

  Copyright (C) 2016-2018 Klar√§lvdalens Datakonsult AB, a KDAB Group company, info@kdab.com
  Author: Volker Krause &lt;volker.krause@kdab.com&gt;

  Licensees holding valid commercial KDAB GammaRay licenses may use this file in
  accordance with GammaRay Commercial License Agreement provided with the Software.

  Contact info@kdab.com if any conditions of this licensing are not clear to you.

  This program is free software; you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 2 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
*/</span>

import QtQuick 2.5
import QtQuick.Window 2.0
import QtQml.StateMachine 1.0

<span class="type"><a href="../qtquick/qml-qtquick-rectangle.html">Rectangle</a></span> {
    <span class="name">width</span>: <span class="number">120</span>
    <span class="name">height</span>: <span class="number">4</span><span class="operator">*</span><span class="name">width</span>
    <span class="name">color</span>: <span class="string">&quot;lightsteelblue&quot;</span>

    <span class="type"><a href="../qtquick/qml-qtquick-rectangle.html">Rectangle</a></span> {
        <span class="name">id</span>: <span class="name">brokenTrafficLight</span>
        <span class="name">color</span>: <span class="string">&quot;black&quot;</span>
        <span class="name">width</span>: <span class="name">parent</span>.<span class="name">width</span>
        <span class="name">height</span>: <span class="number">3</span><span class="operator">*</span><span class="name">width</span>

        <span class="type"><a href="../qtquick/qml-qtquick-column.html">Column</a></span> {
            <span class="name">anchors</span>.fill: <span class="name">parent</span>
            <span class="name">anchors</span>.margins: <span class="name">spacing</span>
            <span class="name">spacing</span>: <span class="number">5</span>

            <span class="type"><a href="../qtquick/qml-qtquick-rectangle.html">Rectangle</a></span> {
                <span class="name">id</span>: <span class="name">redLight</span>
                <span class="name">color</span>: <span class="name">red</span>.<span class="name">active</span> <span class="operator">||</span> <span class="name">redToGreen</span>.<span class="name">active</span> ? <span class="string">&quot;red&quot;</span> : <span class="string">&quot;gray&quot;</span>
                <span class="name">anchors</span>.left: <span class="name">parent</span>.<span class="name">left</span>
                <span class="name">anchors</span>.right: <span class="name">parent</span>.<span class="name">right</span>
                <span class="name">height</span>: <span class="name">width</span>
                <span class="name">radius</span>: <span class="name">width</span><span class="operator">/</span><span class="number">2</span>
            }

            <span class="type"><a href="../qtquick/qml-qtquick-rectangle.html">Rectangle</a></span> {
                <span class="name">id</span>: <span class="name">yellowLight</span>
                <span class="name">color</span>: <span class="name">redToGreen</span>.<span class="name">active</span> <span class="operator">||</span> <span class="name">greenToRed</span>.<span class="name">active</span> ? <span class="string">&quot;yellow&quot;</span> : <span class="string">&quot;gray&quot;</span>
                <span class="name">anchors</span>.left: <span class="name">parent</span>.<span class="name">left</span>
                <span class="name">anchors</span>.right: <span class="name">parent</span>.<span class="name">right</span>
                <span class="name">height</span>: <span class="name">width</span>
                <span class="name">radius</span>: <span class="name">width</span><span class="operator">/</span><span class="number">2</span>
            }

            <span class="type"><a href="../qtquick/qml-qtquick-rectangle.html">Rectangle</a></span> {
                <span class="name">id</span>: <span class="name">greenLight</span>
                <span class="name">color</span>: <span class="name">green</span>.<span class="name">active</span> ? <span class="string">&quot;green&quot;</span> : <span class="string">&quot;gray&quot;</span>
                <span class="name">anchors</span>.left: <span class="name">parent</span>.<span class="name">left</span>
                <span class="name">anchors</span>.right: <span class="name">parent</span>.<span class="name">right</span>
                <span class="name">height</span>: <span class="name">width</span>
                <span class="name">radius</span>: <span class="name">width</span><span class="operator">/</span><span class="number">2</span>
            }
        }
    }

    <span class="type"><a href="../qtquick/qml-qtquick-rectangle.html">Rectangle</a></span> {
        <span class="name">id</span>: <span class="name">stand</span>
        <span class="name">color</span>: <span class="name">brokenTrafficLight</span>.<span class="name">color</span>
        <span class="name">width</span>: <span class="name">brokenTrafficLight</span>.<span class="name">width</span> <span class="operator">/</span> <span class="number">3</span>
        <span class="name">anchors</span>.top: <span class="name">brokenTrafficLight</span>.<span class="name">bottom</span>
        <span class="name">anchors</span>.horizontalCenter: <span class="name">brokenTrafficLight</span>.<span class="name">horizontalCenter</span>
        <span class="name">anchors</span>.bottom: <span class="name">parent</span>.<span class="name">bottom</span>

        <span class="type"><a href="../qtquick/qml-qtquick-rectangle.html">Rectangle</a></span> {
            <span class="name">id</span>: <span class="name">buttonBase</span>
            <span class="name">anchors</span>.left: <span class="name">parent</span>.<span class="name">left</span>
            <span class="name">anchors</span>.right: <span class="name">parent</span>.<span class="name">right</span>
            <span class="name">anchors</span>.verticalCenter: <span class="name">parent</span>.<span class="name">verticalCenter</span>
            <span class="name">anchors</span>.margins: <span class="number">5</span>
            <span class="name">height</span>: <span class="name">width</span>
            <span class="name">color</span>: <span class="string">&quot;gray&quot;</span>

            <span class="type"><a href="../qtquick/qml-qtquick-mousearea.html">MouseArea</a></span> {
                <span class="name">id</span>: <span class="name">onOffSwitch</span>
                <span class="name">anchors</span>.fill: <span class="name">parent</span>
            }

            <span class="type"><a href="../qtquick/qml-qtquick-rectangle.html">Rectangle</a></span> {
                <span class="name">id</span>: <span class="name">button</span>
                <span class="name">color</span>: <span class="string">&quot;cyan&quot;</span>
                <span class="name">width</span>: <span class="name">parent</span>.<span class="name">width</span>
                <span class="name">height</span>: <span class="name">parent</span>.<span class="name">height</span><span class="operator">/</span><span class="number">2</span>
                <span class="name">y</span>: <span class="name">off</span>.<span class="name">active</span> ? <span class="name">height</span> : <span class="number">0</span>
            }
        }
    }

    <span class="type"><a href="../qtqml/qml-qtqml-statemachine-statemachine.html">StateMachine</a></span> {
        <span class="name">id</span>: <span class="name">brokenTrafficLightMachine</span>
        <span class="name">running</span>: <span class="number">true</span>
        <span class="name">initialState</span>: <span class="name">running</span>

        <span class="type"><a href="../qtqml/qml-qtqml-statemachine-state.html">State</a></span> {
            <span class="name">id</span>: <span class="name">running</span>
            <span class="name">initialState</span>: <span class="name">red</span>

            <span class="type"><a href="../qtqml/qml-qtqml-statemachine-state.html">State</a></span> {
                <span class="name">id</span>: <span class="name">red</span>

                <span class="type"><a href="../qtqml/qml-qtqml-statemachine-timeouttransition.html">TimeoutTransition</a></span> {
                    <span class="name">timeout</span>: <span class="number">5000</span>
                    <span class="name">targetState</span>: <span class="name">redToGreen</span>
                }
            }

            <span class="type"><a href="../qtqml/qml-qtqml-statemachine-state.html">State</a></span> {
                <span class="name">id</span>: <span class="name">redToGreen</span>

                <span class="type"><a href="../qtqml/qml-qtqml-statemachine-timeouttransition.html">TimeoutTransition</a></span> {
                    <span class="name">timeout</span>: <span class="number">1500</span>
                    <span class="name">targetState</span>: <span class="name">green</span>
                }
            }

            <span class="type"><a href="../qtqml/qml-qtqml-statemachine-state.html">State</a></span> {
                <span class="name">id</span>: <span class="name">green</span>

                <span class="type"><a href="../qtqml/qml-qtqml-statemachine-timeouttransition.html">TimeoutTransition</a></span> {
                    <span class="name">timeout</span>: <span class="number">5000</span>
                    <span class="name">targetState</span>: <span class="name">red</span>
                }
            }

            <span class="type"><a href="../qtqml/qml-qtqml-statemachine-state.html">State</a></span> {
                <span class="name">id</span>: <span class="name">greenToRed</span>

                <span class="type"><a href="../qtqml/qml-qtqml-statemachine-timeouttransition.html">TimeoutTransition</a></span> {
                    <span class="name">timeout</span>: <span class="number">1500</span>
                    <span class="name">targetState</span>: <span class="name">red</span>
                }
            }

            <span class="type"><a href="../qtqml/qml-qtqml-statemachine-historystate.html">HistoryState</a></span> {
                <span class="name">id</span>: <span class="name">pause</span>
                <span class="name">defaultState</span>: <span class="name">red</span>
            }

            <span class="type"><a href="../qtqml/qml-qtqml-statemachine-signaltransition.html">SignalTransition</a></span> {
                <span class="name">signal</span>: <span class="name">onOffSwitch</span>.<span class="name">clicked</span>
                <span class="name">targetState</span>: <span class="name">off</span>
            }
        }

        <span class="type"><a href="../qtqml/qml-qtqml-statemachine-state.html">State</a></span> {
            <span class="name">id</span>: <span class="name">off</span>

            <span class="type"><a href="../qtqml/qml-qtqml-statemachine-signaltransition.html">SignalTransition</a></span> {
                <span class="name">signal</span>: <span class="name">onOffSwitch</span>.<span class="name">clicked</span>
                <span class="name">targetState</span>: <span class="name">pause</span>
            }
        }
    }
}</pre>
</div>
<!-- @@@state-machine/state-machine.qml -->
</body>
</html>
